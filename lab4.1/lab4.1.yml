# SI413 Lab 4.1: Spec and interpreter for iffy language

your_name: George Prielipp

your_alpha: 265112

used_ai: N # remember to turn in an aichat.md file as well

# leave this as NONE for your initial submission
changes_on_resubmit: |
    NONE

# describe any collaboration or help you got from classmates
collaboration: |
    NONE

# come up with an original name for your new langauge
language_name: feather

# explain a little what inspired your language and why it's cool
language_explanation: |
    I wanted a lightweight language that doesn't have a ton of typing required to have fully functional programs.
    It's cool because it should take the fewest keystrokes to make a program. And the ones you have to make should be short / close to the home row.

# this is the example program that you make up
example_program: |
    func make_timer = (str inc) -> func {
        str timer = inc;

        func increment = () -> str {
            timer = timer . inc;
            -> timer;
        };

        -> increment;
    };

    ['Enter one character that you\'d like to use as a timer:'];
    func timer = make_timer(#);

    str val = '';
    ['Enter that same character, but however many times you want to loop for:'];
    str stop = #;
    ~(! (stop in val)) {
        ['timer = "' . val . '"'];
        val = timer();
    }

example_input_1: |
    .
    ...

example_output_1: |
    Enter one character that you\'d like to use as a timer:
    Enter that same character, but however many times you want to loop for:
    timer = ""
    timer = "."
    timer = ".."

example_input_2: |
    *
    *****

example_output_2: |
    Enter one character that you\'d like to use as a timer:
    Enter that same character, but however many times you want to loop for:
    timer = ""
    timer = "*"
    timer = "**"
    timer = "***"
    timer = "****"



# your implementation of the "dinner" program in your language
dinner_program: |
    func table_tracker = (str name) -> func {
        bool first = true;
        str total = '';

        func order = (str food) -> str {
            ['Table ' . name . ' ordering ' . food];

            ? (first) {
                first = false;
                total = food;
            } : {
                total = total . ', ' . food;
            }

            -> total;
        };

        -> order;
    };

    func string_eq = (str s1, str s2) -> bool {
        -> !(s1 lt s2) & !(s2 lt s1);
    };

    func table1 = table_tracker('CS profs');
    table1('Kimchi');

    ['Your name?'];
    func table2 = table_tracker(#);

    bool done = false;
    str t2got = 'nothing';
    ~(!done) {
        ['What do you want?'];
        str food = #;
        ? (string_eq(food, 'done')) {
            done = true;
        } : {
            t2got = table2(food);    
        }
    }

    table1('Tteokbokki');
    total1 = table1('Samgyeopsal');

    ['We got ' . total1 . ' and you got ' . t2got];

# something else your instructor should know?
any_other_comments_for_me: |
    NONE
